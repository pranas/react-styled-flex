{"version":3,"file":"react-styled-flex.js","sources":["../src/constants.ts","../src/detect-flex-gap-support.ts","../src/index.ts"],"sourcesContent":["export const FlexGapSupportedClassName = 'flex-gap-supported';\r\nexport const FlexGapNotSupportedClassName = 'flex-gap-not-supported';\r\n\r\nexport const boxPropsArr = ['sizing', 'position', 'height', 'maxHeight', 'minHeight', 'width', 'maxWidth', 'minWidth', 'margin', 'marginTop', 'marginRight', 'marginBottom', 'marginLeft', 'm', 'mt', 'mr', 'mb', 'ml', 'padding', 'paddingTop', 'paddingRight', 'paddingBottom', 'paddingLeft', 'p', 'pt', 'pr', 'pb', 'pl', 'border'] as const;\r\nexport const flexBoxPropsArr = ['inline', 'wrap', 'reverse', 'wrapReverse', 'column', 'center', 'justifyContent', 'justifyItems', 'alignItems', 'alignContent', 'gap', 'columnGap', 'rowGap'] as const;\r\nexport const flexItemPropsArr = ['box', 'order', 'grow', 'shrink', 'basis', 'flex', 'alignSelf', 'justifySelf'] as const;\r\n\r\nexport const boxProps: string[] = boxPropsArr.slice();\r\nexport const flexBoxProps: string[] = flexBoxPropsArr.slice();\r\nexport const flexItemProps = (flexItemPropsArr.slice() as string[]).concat(flexBoxProps);\r\n","import { FlexGapNotSupportedClassName, FlexGapSupportedClassName } from './constants';\r\n\r\nif (typeof document !== 'undefined') {\r\n    const htmlDocument = document;\r\n    const htmlBody = htmlDocument.body;\r\n    const bodyClassList = htmlBody.classList;\r\n\r\n    const flexGapSupported = () => {\r\n        const PARENT_WIDTH = 10;\r\n        const GAP = 4;\r\n        /* create test node */\r\n        const parent = htmlDocument.createElement('div');\r\n        parent.style.visibility = 'hidden';\r\n        parent.style.height = '1px';\r\n        parent.style.width = `${PARENT_WIDTH}px`;\r\n        parent.style.display = 'flex';\r\n        parent.style.gap = `${GAP}px`;\r\n        parent.innerHTML = '<div id=\"react-styled-flex-gap-detector-element\" style=\"flex:1\"></div><div style=\"flex:1\"></div>';\r\n\r\n        /* carry out tests */\r\n        htmlBody.appendChild(parent);\r\n        const { width } = window.getComputedStyle(parent.firstElementChild);\r\n        htmlBody.removeChild(parent);\r\n\r\n        /* Remove node and return result */\r\n        return width === `${(PARENT_WIDTH - GAP) / 2}px`;\r\n    };\r\n\r\n    if (flexGapSupported()) {\r\n        bodyClassList.add(FlexGapSupportedClassName);\r\n        bodyClassList.remove(FlexGapNotSupportedClassName);\r\n    }\r\n    else {\r\n        bodyClassList.add(FlexGapNotSupportedClassName);\r\n        bodyClassList.remove(FlexGapSupportedClassName);\r\n    }\r\n}\r\n","import styled, { CSSProperties, CSSObject } from 'styled-components';\r\nimport { FlexGapSupportedClassName, FlexGapNotSupportedClassName, boxProps, flexBoxProps, flexItemProps } from './constants';\r\nimport './detect-flex-gap-support';\r\nimport { BoxProps, FlexBoxProps, FlexItemProps, FlexItemBaseProps } from './types';\r\n\r\nconst FlexGapSupportedIdentifier = `.${FlexGapSupportedClassName} &&`;\r\nconst FlexGapNotSupportedIdentifier = `.${FlexGapNotSupportedClassName} &&`;\r\n\r\nconst boxModelStyles = (props: BoxProps): CSSObject => ({\r\n    boxSizing: props.sizing,\r\n    position: props.position,\r\n    height: props.height,\r\n    maxHeight: props.maxHeight,\r\n    minHeight: props.minHeight,\r\n    width: props.width,\r\n    maxWidth: props.maxWidth,\r\n    minWidth: props.minWidth,\r\n    margin: props.margin || props.m,\r\n    marginTop: props.marginTop || props.mt,\r\n    marginRight: props.marginRight || props.mr,\r\n    marginBottom: props.marginBottom || props.mb,\r\n    marginLeft: props.marginLeft || props.ml,\r\n    padding: props.padding || props.p,\r\n    paddingTop: props.paddingTop || props.pt,\r\n    paddingRight: props.paddingRight || props.pr,\r\n    paddingBottom: props.paddingBottom || props.pb,\r\n    paddingLeft: props.paddingLeft || props.pl,\r\n    border: props.border,\r\n});\r\n\r\nconst flexStyles = (props: FlexBoxProps): CSSObject => {\r\n    const { inline, wrapReverse, alignContent, justifyItems, column, reverse,\r\n        wrap, gap, columnGap, rowGap, center } = props;\r\n    const display = inline\r\n        ? 'inline-flex'\r\n        : 'flex';\r\n    let { justifyContent, alignItems } = props;\r\n    let flexDirection: CSSProperties['flexDirection'];\r\n    let flexWrap: CSSProperties['flexWrap'];\r\n\r\n    if (center) {\r\n        justifyContent = justifyContent || 'center';\r\n        alignItems = alignItems || 'center';\r\n    }\r\n\r\n    if (column || reverse) {\r\n        flexDirection = column ? 'column' : 'row';\r\n        flexDirection += reverse ? '-reverse' : '';\r\n    }\r\n\r\n    if (wrap) flexWrap = 'wrap';\r\n    if (wrapReverse) flexWrap = 'wrap-reverse';\r\n\r\n    const result: CSSObject = {\r\n        display,\r\n        flexWrap,\r\n        justifyContent,\r\n        alignItems,\r\n        flexDirection,\r\n        alignContent,\r\n        justifyItems,\r\n    };\r\n\r\n    if (gap || columnGap || rowGap) {\r\n        result[FlexGapSupportedIdentifier] = {\r\n            gap, rowGap, columnGap,\r\n        };\r\n        if (wrap) {\r\n            /**\r\n             * Gap in wrap mode is not supported yet\r\n             * If you have any better suggestions please create an issue or contribute by raising PR\r\n            */\r\n        }\r\n        else {\r\n            const marginProp = column ? 'bottom' : 'right';\r\n            const child = reverse ? 'first' : 'last';\r\n            const gapProp = (column ? rowGap : columnGap) || gap;\r\n            result[FlexGapNotSupportedIdentifier] = {\r\n                [`& > :not(:${child}-child)`]: {\r\n                    [`margin-${marginProp}`]: gapProp,\r\n                },\r\n            };\r\n        }\r\n    }\r\n\r\n    return result;\r\n};\r\n\r\nconst flexItemStyles = (props: FlexItemBaseProps): CSSObject => ({\r\n    order: props.order,\r\n    flex: props.flex,\r\n    alignSelf: props.alignSelf,\r\n    justifySelf: props.justifySelf,\r\n    flexBasis: props.basis,\r\n    flexShrink: props.shrink,\r\n    flexGrow: props.grow,\r\n});\r\n\r\nexport const Box = styled('div').withConfig({\r\n    displayName: 'Box',\r\n    shouldForwardProp: prop => boxProps.indexOf(prop) === -1,\r\n})<BoxProps>(boxModelStyles);\r\n\r\nexport const FlexBox = styled(Box).withConfig({\r\n    displayName: 'FlexBox',\r\n    shouldForwardProp: prop => flexBoxProps.indexOf(prop) === -1,\r\n})<FlexBoxProps>(flexStyles);\r\n\r\nexport const FlexItem = styled(Box).withConfig({\r\n    displayName: 'FlexItem',\r\n    shouldForwardProp: prop => flexItemProps.indexOf(prop) === -1,\r\n})<FlexItemProps>(\r\n    flexItemStyles,\r\n    props => (props.box ? flexStyles : ''),\r\n);\r\n\r\nexport { FlexGapSupportedClassName, FlexGapNotSupportedClassName };\r\nexport { BoxProps, FlexBoxProps, FlexItemProps };\r\n"],"names":["FlexGapSupportedClassName","FlexGapNotSupportedClassName","boxPropsArr","flexBoxPropsArr","flexItemPropsArr","boxProps","slice","flexBoxProps","flexItemProps","concat","document","htmlDocument","htmlBody","body","bodyClassList","classList","flexGapSupported","PARENT_WIDTH","GAP","parent","createElement","style","visibility","height","width","display","gap","innerHTML","appendChild","window","getComputedStyle","firstElementChild","removeChild","add","remove","FlexGapSupportedIdentifier","FlexGapNotSupportedIdentifier","boxModelStyles","props","boxSizing","sizing","position","maxHeight","minHeight","maxWidth","minWidth","margin","m","marginTop","mt","marginRight","mr","marginBottom","mb","marginLeft","ml","padding","p","paddingTop","pt","paddingRight","pr","paddingBottom","pb","paddingLeft","pl","border","flexStyles","inline","wrapReverse","alignContent","justifyItems","column","reverse","wrap","columnGap","rowGap","center","justifyContent","alignItems","flexDirection","flexWrap","result","marginProp","child","gapProp","flexItemStyles","order","flex","alignSelf","justifySelf","flexBasis","basis","flexShrink","shrink","flexGrow","grow","Box","styled","withConfig","displayName","shouldForwardProp","prop","indexOf","FlexBox","FlexItem","box"],"mappings":"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"}